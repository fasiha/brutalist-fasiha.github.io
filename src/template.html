◊(do
  (defn dotdot [s] (str (apply str (repeat (count (filter #(= % "/") (:file params))) "../"))
                        s))
  nil)
<!DOCTYPE html>
<title>◊(:title params)</title>
<meta charset="UTF-8">
<link rel="stylesheet" href="◊(dotdot "tufte.css")"/>
<body>
 <nav>
  <ul>
   <li><a href="◊(dotdot "index.html")">top</a></li>
   <li><a href="◊(dotdot "code.html")">code</a></li>
   <li><a href="◊(dotdot "maps.html")">maps</a></li>
   <li><a href="◊(dotdot "about.html")">about</a></li>
  </ul>
 </nav>
 ◊(slurp (str (:path params) "/" (:file params)))
</body>

<script>
var ws = new WebSocket('ws://localhost:8081/');
ws.onmessage = function(event) { window.location.reload(true); };
</script>
